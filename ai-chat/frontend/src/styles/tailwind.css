@tailwind base;
@tailwind components;
@tailwind utilities;

/* Chat Widget Component Styles */
@layer components {
  .chat-widget {
    @apply fixed z-[10000];
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  }

  .chat-widget.bottom-right {
    bottom: 20px;
    right: 20px;
  }

  .chat-widget.bottom-left {
    bottom: 20px;
    left: 20px;
  }

  .chat-widget.top-right {
    top: 20px;
    right: 20px;
  }

  .chat-widget.top-left {
    top: 20px;
    left: 20px;
  }

  /* Reset styles within widget */
  .chat-widget * {
    box-sizing: border-box;
  }

  .chat-widget button {
    @apply cursor-pointer border-0 outline-none;
  }

  .chat-widget input,
  .chat-widget textarea {
    font-family: inherit;
  }

  /* Chat Window */
  .chat-window {
    @apply w-[350px] h-[500px] bg-white rounded-xl shadow-chat 
           flex flex-col overflow-hidden mb-3 border border-gray-200
           animate-slide-up;
  }

  /* Messages */
  .messages-container {
    @apply flex-1 overflow-y-auto p-5 flex flex-col gap-4 bg-gray-50;
  }

  .message-bubble {
    @apply flex max-w-[80%] animate-fade-in;
  }

  .message-bubble.user {
    @apply self-end;
  }

  .message-bubble.bot {
    @apply self-start;
  }

  .message-content {
    @apply bg-white py-3 px-4 rounded-2xl shadow-sm relative;
  }

  .message-content.user.theme-blue {
    @apply bg-gradient-to-br from-primary-500 to-primary-700 text-white;
  }

  .message-content.user.theme-green {
    @apply bg-gradient-to-br from-secondary-400 to-secondary-600 text-white;
  }

  .message-content.user.theme-purple {
    @apply bg-gradient-to-br from-accent-400 to-accent-600 text-white;
  }

  .message-content.error {
    @apply bg-red-50 text-red-700 border border-red-200;
  }

  .message-text {
    @apply text-sm leading-relaxed mb-1;
  }

  .message-time {
    @apply text-xs opacity-70 text-right;
  }

  /* Typing Indicator */
  .typing-indicator {
    @apply flex items-center py-2;
  }

  .typing-dots {
    @apply flex gap-1;
  }

  .typing-dot {
    @apply w-1.5 h-1.5 bg-gray-400 rounded-full animate-typing;
  }

  .typing-dot:nth-child(1) {
    animation-delay: -0.32s;
  }

  .typing-dot:nth-child(2) {
    animation-delay: -0.16s;
  }

  /* Chat Input */
  .chat-input-container {
    @apply p-4 bg-white border-t border-gray-200;
  }

  .input-wrapper {
    @apply flex items-end gap-2 bg-gray-100 rounded-full py-2 px-3;
  }

  .message-input {
    @apply flex-1 border-0 bg-transparent resize-none outline-none 
           text-sm leading-relaxed max-h-24 min-h-5
           placeholder:text-gray-400;
    font-family: inherit;
  }

  .send-btn {
    @apply border-0 text-white w-9 h-9 rounded-full cursor-pointer 
           flex items-center justify-center transition-all duration-200
           disabled:opacity-50 disabled:cursor-not-allowed
           hover:scale-105;
  }

  .send-btn.theme-blue {
    @apply bg-gradient-to-br from-primary-500 to-primary-700;
  }

  .send-btn.theme-green {
    @apply bg-gradient-to-br from-secondary-400 to-secondary-600;
  }

  .send-btn.theme-purple {
    @apply bg-gradient-to-br from-accent-400 to-accent-600;
  }

  /* FAQ Section */
  .faq-container {
    @apply flex-1 flex flex-col bg-white;
  }

  .faq-header {
    @apply p-4 border-b border-gray-200 flex justify-between items-center;
  }

  .faq-title {
    @apply text-lg font-semibold text-gray-800 m-0;
  }

  .faq-close-btn {
    @apply bg-transparent border-0 text-gray-600 cursor-pointer 
           w-6 h-6 rounded-full flex items-center justify-center
           hover:bg-gray-100;
  }

  .faq-content {
    @apply flex-1 overflow-y-auto p-3;
  }

  .faq-list {
    @apply flex flex-col gap-2;
  }

  .faq-item {
    @apply p-3 bg-gray-50 rounded-lg cursor-pointer 
           transition-all duration-200 border border-transparent
           hover:bg-gray-100 hover:border-primary-500;
  }

  .faq-question {
    @apply text-sm font-medium text-gray-800 mb-1;
  }

  .faq-category {
    @apply text-xs text-gray-600 uppercase font-medium;
  }

  .no-faqs {
    @apply text-center text-gray-600 italic py-10 px-5;
  }
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .chat-window {
    @apply w-[calc(100vw-1.25rem)] h-[70vh] max-h-[500px];
  }
  
  .message-bubble {
    @apply max-w-[90%];
  }
  
  .chat-widget.bottom-right,
  .chat-widget.bottom-left {
    @apply left-2.5 right-2.5;
  }
}

/* Scrollbar Styles */
.messages-container::-webkit-scrollbar,
.faq-content::-webkit-scrollbar {
  @apply w-1;
}

.messages-container::-webkit-scrollbar-track,
.faq-content::-webkit-scrollbar-track {
  @apply bg-gray-100;
}

.messages-container::-webkit-scrollbar-thumb,
.faq-content::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded-sm;
}

.messages-container::-webkit-scrollbar-thumb:hover,
.faq-content::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-400;
}